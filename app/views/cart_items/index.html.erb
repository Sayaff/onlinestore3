<h1>Your Cart</h1>
  <% if @cart_items.empty? %>
  <p>Your cart is currently empty</p>
  <% else %>
    <%= link_to 'Clear Your Cart', nil %>
  <% end %>
  <br><br><br>

  <% total = 0 %>
<ul>
  <% @cart_items.each do | cart_item | %>
    <% pattern = Pattern.find(cart_item.pattern_id) %>
    <% if pattern.present? %>
      <li>
        <%= link_to pattern.title, pattern %>
        <p><%= pattern.description %></p>
        <p><%= number_to_currency(pattern.price, :unit => '$') %></p>
        <p><%= pattern.designer %></p>
        <p><%= pattern.size %></p>
        <p><%= pattern.category %></p>
        <p>Quantity: <%= cart_item.quantity %></p>
      </li>
        <% total += cart_item.quantity * pattern.price %>
        <%= link_to 'Delete Item', cart_item_path(cart_item), method: :delete %>
    <% end %>
  <% end %>

    <p><b>Total: <%= number_to_currency(total, :unit => '$') %></b></p>
</ul>
